import matplotlib.pyplot as plt
import numpy as np


data = {
    # (1,1): [9526,13513,14154,18361,21197,25515,26451,30075,36755,39289,44119,48294,50356,50745,56498,56575,59009,60177,64559,66200,69126,70269,74290,75885,80345,85816,89895,93592,96660,98934,100751,102920,109003,110025,114596,116633,118409,120682,123629,125261,129478,131981,136914,137883,140044,143602,148647,150820,153291,156888],
    # (1,2): [9297,10436,11066,12660,15428,15523,15764,17450,18780,18509,18068,19305,22455,22967,23925,26897,27579,29801,29661,32481,31365,31120,32626,35181,38420,38249,39055,43431,43138,45860,47344,48096,50847,51474,52471,52669,54213,54559,54066,57343,56880,59008,62550,62217,62382,63367,64344,67789,68403,71768],
    # (1,3): [9177,8695,9519,11353,10248,10634,11829,13565,14002,16475,16468,17259,18084,17264,20004,19714,20862,21062,24320,23185,24711,23433,24571,25775,26481,26675,27561,30221,31670,32164,35643,35770,35563,36652,37004,36944,37291,39280,40715,40206,40981,43214,42955,42991,42580,44639,44853,45196,45755,49723],
    # (1,4): [6950,7848,9618,9587,10960,10144,9728,10395,10094,12649,11294,12213,12744,13471,14870,13681,14802,15647,16315,17230,16697,16319,16759,18420,17788,17649,19429,21056,20867,22035,20892,20603,22054,22923,24575,25735,24542,25385,26877,28068,28359,28079,28067,27894,29080,29826,32263,31026,32100,33764],
    # (1,5): [7281,7873,10665,10089,10676,13182,12809,14342,13342,13043,13151,14403,14347,13411,15323,16497,16175,16050,17462,17830,15899,15868,17600,17548,18969,16827,19607,18519,19924,20744,21681,21344,22118,20489,22008,20778,22091,21866,23586,23281,23296,24015,25436,25225,26419,25868,26776,30021,29753,31411],
    # (1,6): [9070,8109,9500,10117,9643,9772,10965,12038,10286,10961,10153,12423,12014,13013,12411,11574,12987,13011,14878,12028,14320,13611,16083,13962,15023,16119,15397,17281,15707,16249,17854,16094,18829,18322,19023,18904,20406,19803,18865,19494,21720,21100,19958,21477,21377,23445,22037,25145,22846,23634],
    # (1,7): [6828,8042,8591,8995,9096,7607,9374,7631,8360,9124,13014,8305,8973,7863,11488,9676,10301,12349,13683,9182,9842,12263,12348,10620,11440,12211,9988,11840,12462,14041,12577,13962,15209,14651,15383,15558,15472,13766,15564,17141,15522,15015,17264,17043,15797,17199,16852,18089,20948,21047],
    # (1,8): [9114,10470,9677,9665,10992,12096,10644,11230,9695,7871,10479,8847,10791,10730,11480,13082,11230,13207,13451,11451,12206,9820,11837,9303,10289,11513,12618,11537,14448,13866,12201,11202,14130,13886,14606,17695,14691,12563,13705,15577,13562,15150,14213,15333,15099,13831,15587,17088,17953,18828],
    # (1,9): [7299,7360,10503,8552,11306,9482,10167,7731,8520,7212,10370,8671,7309,13428,11478,9107,12934,10067,9076,8530,12307,10027,10874,11821,10029,9455,8846,11489,15433,11404,9892,12728,11907,12776,11488,12595,12843,12237,11750,12187,12611,11320,13119,13477,12564,12535,14069,14805,14418,14603],
    # (2, 9): [5029, 6056, 5715, 7562, 7196, 5012, 5698, 6386, 4424, 4760, 7052, 6170, 8651, 7615, 9733, 4294, 5579, 5529, 8383, 4705, 8246, 3657, 6225, 6263, 8615, 9744, 7113, 4000, 6860, 5404, 9069, 6691, 7526, 5865, 5552, 8411, 6789, 7964, 7053, 5819, 6156, 5885, 5641, 7545, 8617, 8138, 8951, 7065, 7683, 8886],
    # (2, 8): [3768, 5277, 6216, 5601, 3946, 7324, 6733, 7144, 6893, 6810, 7707, 10032, 6703, 6375, 7269, 9437, 7427, 6699, 9773, 7624, 10483, 9477, 8256, 12178, 11221, 9015, 10937, 9069, 10720, 10458, 9718, 11334, 10646, 12992, 10300, 13438, 12008, 10603, 12047, 10967, 10271, 12165, 10974, 14422, 12266, 13005, 12504, 14752, 14530, 14506],
    # (2, 7): [4984, 5097, 6511, 7563, 6854, 8636, 9611, 8625, 8969, 8587, 8720, 6961, 6578, 10107, 11705, 9808, 10308, 9877, 10035, 9204, 12286, 11427, 8558, 9060, 10232, 11513, 8150, 13480, 12382, 10344, 12319, 7642, 8711, 13768, 12327, 14983, 15544, 11575, 11315, 12162, 15809, 11647, 16078, 15153, 14951, 14420, 17054, 13910, 15151, 16451],
    # (2, 6): [4821, 5427, 7980, 7228, 8154, 6674, 5223, 4812, 8758, 10889, 9396, 8626, 10049, 7400, 8433, 10008, 6417, 7111, 9827, 8149, 7396, 8878, 10456, 10412, 9053, 7380, 8393, 9554, 10248, 10900, 10491, 10948, 9926, 11719, 13775, 13071, 12176, 13698, 13042, 11736, 12585, 11816, 12345, 11142, 12145, 13262, 14321, 14153, 15436, 19616],
    # (2, 5): [3795, 3864, 5393, 5161, 5563, 9187, 8325, 5515, 9727, 10979, 7929, 10015, 10959, 10907, 9792, 8720, 8922, 8302, 7930, 13025, 11488, 13409, 14887, 12126, 11030, 13837, 10851, 12393, 12520, 18200, 15632, 12167, 16655, 13310, 16353, 17809, 17019, 15896, 18994, 15660, 14991, 16659, 18305, 21459, 21296, 20873, 23152, 25286, 25062, 26300],
    # (2, 4): [4564, 5276, 6008, 6097, 5688, 6889, 8898, 7876, 10479, 8709, 10861, 10455, 10923, 11628, 13060, 11664, 12758, 12636, 14363, 13876, 14492, 13965, 14883, 16958, 17751, 18826, 17044, 17889, 19481, 20411, 21219, 20305, 23201, 22377, 21626, 21729, 22697, 22292, 25155, 24202, 24705, 25183, 26471, 27296, 29502, 28426, 29840, 28820, 29425, 31361],
    # (2, 3): [7190, 7417, 8982, 10380, 10921, 11610, 13208, 13199, 14515, 14432, 13587, 18117, 16631, 17511, 17338, 19068, 20850, 20209, 20756, 23011, 24281, 23716, 23629, 25545, 26991, 26557, 29861, 30031, 30827, 33060, 34435, 33990, 35395, 35335, 35437, 37120, 36171, 36966, 37301, 39801, 40047, 39336, 38755, 39529, 43047, 46161, 49801, 53934, 58083, 60513],
    # (2, 2): [3868, 6766, 8232, 7010, 9037, 10498, 13550, 15984, 15098, 19751, 18838, 21990, 20264, 21744, 25820, 27074, 26214, 31212, 30476, 33160, 33081, 34272, 34148, 35815, 36857, 35900, 39944, 38491, 38701, 40811, 44514, 44491, 47034, 46371, 45725, 44188, 47590, 47195, 49581, 49480, 53824, 53223, 58802, 58618, 59769, 59919, 61414, 61137, 62185, 65793],
}

# constant everything
data = {
    (1, 10): [18938, 19214, 18808, 19602, 18874, 19530, 18805, 19223, 19157, 19102, 28315, 28542, 28921, 28464, 28290, 29263, 28846, 28794, 28734, 28650, 37755, 38009, 38050, 38390, 38056, 38587, 38398, 38477, 38316, 38173, 47154, 47136, 47628, 47259, 47871, 48503, 48260, 47818, 47661, 48335, 56557, 56276, 56906, 56738, 57290, 57641, 57424, 58457, 58189, 57587,],
    (2, 10): [15864, 15913, 15722, 15863, 15799, 15689, 15795, 16098, 15754, 15737, 25253, 24854, 25391, 25268, 24504, 25072, 24784, 25216, 25963, 24597, 34266, 34985, 34562, 33923, 34367, 34676, 34364, 34674, 34050, 34545, 43755, 43484, 43658, 44361, 43431, 43680, 43657, 43816, 43199, 43970, 52841, 52850, 53379, 53200, 52898, 52845, 53008, 52882, 52386, 53540,],
    (3, 10): [15139, 15086, 15051, 15037, 15028, 15133, 15048, 15010, 15061, 15223, 24757, 23748, 24535, 24490, 23615, 24818, 24462, 23551, 24151, 23993, 34672, 32993, 33682, 34222, 32750, 33682, 33949, 32675, 33692, 33350, 43603, 41631, 43051, 43083, 41306, 43155, 41239, 43595, 43106, 42084, 52555, 53286, 50294, 52498, 52622, 53203, 52624, 62032, 62853, 62005,],
    (4, 10): [14480, 14433, 14433, 14409, 14369, 14357, 14363, 14415, 14442, 14395, 24221, 23635, 23436, 23294, 24754, 23212, 22863, 23534, 23704, 23543, 34377, 32174, 32389, 33618, 33594, 32064, 32060, 33358, 32362, 32728, 43243, 40729, 41035, 43042, 43083, 40611, 40579, 43118, 41025, 41298, 53004, 49309, 52831, 49701, 52834, 52929, 62869, 62505, 62531, 62766,],
}

# # 12, 3 gauss service, constant velocity
# data = {
#     (1, 10): [14210, 15523, 16986, 17634, 19226, 19357, 19535, 19136, 20745, 24456, 23305, 23791, 25780, 26338, 27555, 27042, 29488, 29930, 28935, 33540, 32140, 34214, 35060, 36786, 38000, 39086, 39640, 42251, 42254, 43939, 42117, 42783, 44415, 45273, 49955, 51249, 49622, 51905, 52306, 50690, 52246, 52928, 54540, 56460, 61341, 61623, 62631, 62184, 62639, 62758,],
#     (2, 10): [12179, 13054, 12087, 12078, 13049, 16081, 15475, 16230, 19381, 21390, 18864, 21196, 20836, 23828, 24891, 26634, 27532, 30001, 27242, 28631, 29424, 33299, 30907, 35171, 35206, 35286, 35658, 36155, 38980, 39588, 39321, 39157, 42175, 42612, 43264, 44951, 45469, 45566, 47474, 47314, 47919, 47813, 50796, 50271, 52918, 55276, 54410, 55371, 61663, 64263,],
#     (3, 10): [11727, 15085, 15518, 15750, 16805, 15590, 15369, 15428, 18388, 16980, 20328, 20866, 19614, 21738, 23683, 22779, 23562, 22564, 27205, 24027, 25682, 22991, 30367, 29502, 27531, 29588, 31037, 32061, 33392, 31901, 36214, 33212, 35066, 35543, 33946, 39726, 41778, 38417, 41020, 42023, 43532, 46690, 44596, 43707, 46755, 47354, 47007, 51117, 54954,],
# }

# # 12, 8 gauss service, constant velocity
# data = {
#     (1, 10): [11181, 14529, 17238, 17997, 17423, 19777, 20515, 24734, 24830, 27779, 25616, 23700, 30055, 30050, 30610, 32272, 30391, 35114, 34454, 32239, 30729, 34270, 34755, 38368, 33241, 37885, 38772, 36094, 38377, 40188, 40442, 43707, 45223, 45742, 49399, 46986, 45620, 45758, 52272, 51186, 52400, 49638, 50037, 54878, 57173, 62274, 59818, 66642, 65428, 68047,],
#     (2, 10): [3996, 6470, 6130, 7641, 10221, 9335, 12723, 14955, 12514, 14438, 20473, 19282, 17257, 17152, 24142, 18980, 21850, 21626, 21000, 24407, 26913, 26415, 25990, 36129, 28487, 34424, 33160, 32517, 35237, 37766, 38491, 39214, 41462, 42050, 42867, 41686, 41745, 43404, 41415, 43224, 42066, 45896, 48342, 52643, 54474, 54375, 53475, 54627, 56169, 61723,],
#     (3, 10): [6593, 7797, 7776, 8890, 14661, 17844, 18330, 17786, 18619, 18687, 19993, 22706, 23905, 19921, 20975, 23708, 23438, 27693, 28626, 30401, 29592, 34465, 35484, 33803, 36062, 38171, 34338, 35437, 31776, 31388, 39253, 39097, 41682, 44534, 47237, 47844, 48701, 49021, 44844, 52850, 50558, 58064, 61584, 58747, 60376, 63048, 68779, 69963, 72506, 73789,],
# }

# 100 people, 8, 6 gauss service, constant velocity
data = {
    (1, 10): [8175, 8176, 8209, 9810, 12537, 13314, 13130, 13867, 11028, 16458, 19215, 18750, 22516, 18718, 21175, 21418, 18279, 20992, 20486, 23205, 22953, 23513, 22434, 20818, 26169, 23528, 25014, 24831, 24708, 24015, 24257, 28480, 29270, 24862, 28183, 27334, 29258, 30068, 27762, 32656, 34255, 29570, 30386, 34135, 28211, 31905, 29708, 40047, 29533, 33551, 33276, 36110, 31721, 36665, 35803, 35695, 33474, 37868, 39139, 36890, 36330, 41472, 41306, 44049, 40659, 42455, 38095, 42275, 39275, 39195, 42167, 45858, 42779, 48338, 45106, 50411, 49344, 50390, 46712, 50001, 51353, 58231, 57571, 51540, 54179, 53168, 56980, 59668, 55904, 59154, 58589, 58208, 58488, 61732, 59684, 61067, 62150, 61453, 62258, 65886,],
    (2, 10): [9928, 9249, 10807, 8561, 10265, 11773, 13692, 13785, 15149, 15376, 14314, 13567, 13373, 19164, 16595, 16943, 16307, 14448, 19128, 16692, 15830, 14293, 14110, 16028, 16784, 21365, 15629, 18791, 16091, 17447, 22240, 17945, 22837, 19022, 19883, 28454, 18706, 22300, 26588, 23679, 26608, 26079, 29866, 27698, 25929, 26007, 28019, 31976, 31323, 32078, 28491, 30331, 27439, 31731, 37298, 37400, 35701, 34382, 38944, 36633, 36288, 36147, 41602, 35877, 36743, 41992, 37668, 43572, 44431, 45899, 44522, 42404, 47628, 43874, 46474, 47802, 44979, 49605, 51812, 48620, 49125, 49699, 51353, 49088, 50009, 53366, 50962, 53818, 49787, 53502, 54702, 55109, 53445, 55060, 54949, 54670, 55999, 56336, 62637, 63402,],
    (3, 10): [3176, 7775, 4334, 9534, 10193, 5959, 11569, 6321, 13776, 12076, 7478, 11509, 12022, 13140, 14298, 10411, 17338, 16014, 18654, 18321, 17032, 13775, 18633, 16394, 20550, 21663, 19387, 18887, 22441, 21003, 20294, 23998, 23591, 23913, 23603, 22535, 24520, 21816, 21482, 30243, 32920, 26803, 28214, 26606, 25945, 27808, 33307, 31109, 29217, 30854, 34131, 30210, 34644, 36686, 33880, 37018, 37754, 35562, 37256, 39013, 36806, 40431, 36217, 45745, 41246, 40563, 37369, 35895, 40980, 39440, 42171, 44317, 44140, 42650, 46775, 47301, 47853, 51384, 50195, 44241, 47466, 52897, 50739, 52960, 50691, 50409, 54003, 55140, 58940, 57961, 57604, 56152, 62321, 63816, 64676, 64757, 66771, 67976, 72829, 73009,],
    (4, 10): [2446, 2822, 2362, 7727, 4435, 8674, 8312, 9770, 10681, 8841, 8312, 12658, 8912, 6752, 13799, 16611, 12517, 16679, 12699, 11500, 14989, 15196, 19126, 20300, 17602, 20159, 19348, 18034, 17646, 19713, 18727, 23405, 21308, 21129, 23138, 25633, 21204, 24942, 23733, 26245, 23405, 30046, 27042, 24833, 30719, 29040, 28277, 35665, 28044, 32976, 28117, 33800, 30099, 26327, 33343, 31614, 38002, 36612, 38492, 30424, 37288, 34315, 34295, 37319, 28798, 39758, 36764, 36715, 34236, 41518, 35883, 41856, 34187, 50450, 42911, 46925, 42596, 51130, 47582, 46501, 52393, 53229, 54381, 48096, 50929, 59027, 53504, 56679, 51751, 54197, 62029, 60105, 71225, 72556, 69109, 72937, 80315, 79441, 89771, 95810,],
}


sums = {k: sum(v) for k,v in data.items()}



_ = 0
if _ == 0:
    for (nq,ns),value in data.items():
        if ns == 10:
            plt.plot(value, label=f"$N_q$ = {nq}, $N_s$ = {ns}")
    plt.legend()

elif _ == 1:
    map_2d = []
    for ns in range(1, 11):
        map_2d.append([])
        for nq in range(1, 11):
            k = (nq, ns)
            if k in sums:
                map_2d[-1].append(sums[k])
            else:
                map_2d[-1].append(0)

    plt.xlabel("Number of queues $N_q$")
    plt.ylabel("Number of services $N_s$")

    plt.imshow(map_2d,cmap="hot", extent=[1,10,1,10])

elif _ == 2:
    plt.scatter([1, 2, 3, 4], sums.values())

plt.show()
