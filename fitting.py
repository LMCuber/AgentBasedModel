import matplotlib.pyplot as plt
import numpy as np


data = {
    # (1,1): [9526,13513,14154,18361,21197,25515,26451,30075,36755,39289,44119,48294,50356,50745,56498,56575,59009,60177,64559,66200,69126,70269,74290,75885,80345,85816,89895,93592,96660,98934,100751,102920,109003,110025,114596,116633,118409,120682,123629,125261,129478,131981,136914,137883,140044,143602,148647,150820,153291,156888],
    # (1,2): [9297,10436,11066,12660,15428,15523,15764,17450,18780,18509,18068,19305,22455,22967,23925,26897,27579,29801,29661,32481,31365,31120,32626,35181,38420,38249,39055,43431,43138,45860,47344,48096,50847,51474,52471,52669,54213,54559,54066,57343,56880,59008,62550,62217,62382,63367,64344,67789,68403,71768],
    # (1,3): [9177,8695,9519,11353,10248,10634,11829,13565,14002,16475,16468,17259,18084,17264,20004,19714,20862,21062,24320,23185,24711,23433,24571,25775,26481,26675,27561,30221,31670,32164,35643,35770,35563,36652,37004,36944,37291,39280,40715,40206,40981,43214,42955,42991,42580,44639,44853,45196,45755,49723],
    # (1,4): [6950,7848,9618,9587,10960,10144,9728,10395,10094,12649,11294,12213,12744,13471,14870,13681,14802,15647,16315,17230,16697,16319,16759,18420,17788,17649,19429,21056,20867,22035,20892,20603,22054,22923,24575,25735,24542,25385,26877,28068,28359,28079,28067,27894,29080,29826,32263,31026,32100,33764],
    # (1,5): [7281,7873,10665,10089,10676,13182,12809,14342,13342,13043,13151,14403,14347,13411,15323,16497,16175,16050,17462,17830,15899,15868,17600,17548,18969,16827,19607,18519,19924,20744,21681,21344,22118,20489,22008,20778,22091,21866,23586,23281,23296,24015,25436,25225,26419,25868,26776,30021,29753,31411],
    # (1,6): [9070,8109,9500,10117,9643,9772,10965,12038,10286,10961,10153,12423,12014,13013,12411,11574,12987,13011,14878,12028,14320,13611,16083,13962,15023,16119,15397,17281,15707,16249,17854,16094,18829,18322,19023,18904,20406,19803,18865,19494,21720,21100,19958,21477,21377,23445,22037,25145,22846,23634],
    # (1,7): [6828,8042,8591,8995,9096,7607,9374,7631,8360,9124,13014,8305,8973,7863,11488,9676,10301,12349,13683,9182,9842,12263,12348,10620,11440,12211,9988,11840,12462,14041,12577,13962,15209,14651,15383,15558,15472,13766,15564,17141,15522,15015,17264,17043,15797,17199,16852,18089,20948,21047],
    # (1,8): [9114,10470,9677,9665,10992,12096,10644,11230,9695,7871,10479,8847,10791,10730,11480,13082,11230,13207,13451,11451,12206,9820,11837,9303,10289,11513,12618,11537,14448,13866,12201,11202,14130,13886,14606,17695,14691,12563,13705,15577,13562,15150,14213,15333,15099,13831,15587,17088,17953,18828],
    # (1,9): [7299,7360,10503,8552,11306,9482,10167,7731,8520,7212,10370,8671,7309,13428,11478,9107,12934,10067,9076,8530,12307,10027,10874,11821,10029,9455,8846,11489,15433,11404,9892,12728,11907,12776,11488,12595,12843,12237,11750,12187,12611,11320,13119,13477,12564,12535,14069,14805,14418,14603],
    # (2, 9): [5029, 6056, 5715, 7562, 7196, 5012, 5698, 6386, 4424, 4760, 7052, 6170, 8651, 7615, 9733, 4294, 5579, 5529, 8383, 4705, 8246, 3657, 6225, 6263, 8615, 9744, 7113, 4000, 6860, 5404, 9069, 6691, 7526, 5865, 5552, 8411, 6789, 7964, 7053, 5819, 6156, 5885, 5641, 7545, 8617, 8138, 8951, 7065, 7683, 8886],
    # (2, 8): [3768, 5277, 6216, 5601, 3946, 7324, 6733, 7144, 6893, 6810, 7707, 10032, 6703, 6375, 7269, 9437, 7427, 6699, 9773, 7624, 10483, 9477, 8256, 12178, 11221, 9015, 10937, 9069, 10720, 10458, 9718, 11334, 10646, 12992, 10300, 13438, 12008, 10603, 12047, 10967, 10271, 12165, 10974, 14422, 12266, 13005, 12504, 14752, 14530, 14506],
    # (2, 7): [4984, 5097, 6511, 7563, 6854, 8636, 9611, 8625, 8969, 8587, 8720, 6961, 6578, 10107, 11705, 9808, 10308, 9877, 10035, 9204, 12286, 11427, 8558, 9060, 10232, 11513, 8150, 13480, 12382, 10344, 12319, 7642, 8711, 13768, 12327, 14983, 15544, 11575, 11315, 12162, 15809, 11647, 16078, 15153, 14951, 14420, 17054, 13910, 15151, 16451],
    # (2, 6): [4821, 5427, 7980, 7228, 8154, 6674, 5223, 4812, 8758, 10889, 9396, 8626, 10049, 7400, 8433, 10008, 6417, 7111, 9827, 8149, 7396, 8878, 10456, 10412, 9053, 7380, 8393, 9554, 10248, 10900, 10491, 10948, 9926, 11719, 13775, 13071, 12176, 13698, 13042, 11736, 12585, 11816, 12345, 11142, 12145, 13262, 14321, 14153, 15436, 19616],
    # (2, 5): [3795, 3864, 5393, 5161, 5563, 9187, 8325, 5515, 9727, 10979, 7929, 10015, 10959, 10907, 9792, 8720, 8922, 8302, 7930, 13025, 11488, 13409, 14887, 12126, 11030, 13837, 10851, 12393, 12520, 18200, 15632, 12167, 16655, 13310, 16353, 17809, 17019, 15896, 18994, 15660, 14991, 16659, 18305, 21459, 21296, 20873, 23152, 25286, 25062, 26300],
    # (2, 4): [4564, 5276, 6008, 6097, 5688, 6889, 8898, 7876, 10479, 8709, 10861, 10455, 10923, 11628, 13060, 11664, 12758, 12636, 14363, 13876, 14492, 13965, 14883, 16958, 17751, 18826, 17044, 17889, 19481, 20411, 21219, 20305, 23201, 22377, 21626, 21729, 22697, 22292, 25155, 24202, 24705, 25183, 26471, 27296, 29502, 28426, 29840, 28820, 29425, 31361],
    # (2, 3): [7190, 7417, 8982, 10380, 10921, 11610, 13208, 13199, 14515, 14432, 13587, 18117, 16631, 17511, 17338, 19068, 20850, 20209, 20756, 23011, 24281, 23716, 23629, 25545, 26991, 26557, 29861, 30031, 30827, 33060, 34435, 33990, 35395, 35335, 35437, 37120, 36171, 36966, 37301, 39801, 40047, 39336, 38755, 39529, 43047, 46161, 49801, 53934, 58083, 60513],
    # (2, 2): [3868, 6766, 8232, 7010, 9037, 10498, 13550, 15984, 15098, 19751, 18838, 21990, 20264, 21744, 25820, 27074, 26214, 31212, 30476, 33160, 33081, 34272, 34148, 35815, 36857, 35900, 39944, 38491, 38701, 40811, 44514, 44491, 47034, 46371, 45725, 44188, 47590, 47195, 49581, 49480, 53824, 53223, 58802, 58618, 59769, 59919, 61414, 61137, 62185, 65793],
}

# constant everything
data = {
    (1, 10): [18938, 19214, 18808, 19602, 18874, 19530, 18805, 19223, 19157, 19102, 28315, 28542, 28921, 28464, 28290, 29263, 28846, 28794, 28734, 28650, 37755, 38009, 38050, 38390, 38056, 38587, 38398, 38477, 38316, 38173, 47154, 47136, 47628, 47259, 47871, 48503, 48260, 47818, 47661, 48335, 56557, 56276, 56906, 56738, 57290, 57641, 57424, 58457, 58189, 57587,],
    (2, 10): [15864, 15913, 15722, 15863, 15799, 15689, 15795, 16098, 15754, 15737, 25253, 24854, 25391, 25268, 24504, 25072, 24784, 25216, 25963, 24597, 34266, 34985, 34562, 33923, 34367, 34676, 34364, 34674, 34050, 34545, 43755, 43484, 43658, 44361, 43431, 43680, 43657, 43816, 43199, 43970, 52841, 52850, 53379, 53200, 52898, 52845, 53008, 52882, 52386, 53540,],
    (3, 10): [15139, 15086, 15051, 15037, 15028, 15133, 15048, 15010, 15061, 15223, 24757, 23748, 24535, 24490, 23615, 24818, 24462, 23551, 24151, 23993, 34672, 32993, 33682, 34222, 32750, 33682, 33949, 32675, 33692, 33350, 43603, 41631, 43051, 43083, 41306, 43155, 41239, 43595, 43106, 42084, 52555, 53286, 50294, 52498, 52622, 53203, 52624, 62032, 62853, 62005,],
    (4, 10): [14480, 14433, 14433, 14409, 14369, 14357, 14363, 14415, 14442, 14395, 24221, 23635, 23436, 23294, 24754, 23212, 22863, 23534, 23704, 23543, 34377, 32174, 32389, 33618, 33594, 32064, 32060, 33358, 32362, 32728, 43243, 40729, 41035, 43042, 43083, 40611, 40579, 43118, 41025, 41298, 53004, 49309, 52831, 49701, 52834, 52929, 62869, 62505, 62531, 62766,],
}

# 100 people, 8, 6 gauss service, constant velocity
data = {
    (1, 10): [5129, 2469, 3875, 5984, 2928, 6144, 8248, 5086, 12260, 9380, 12312, 13204, 11935, 18072, 12906, 18202, 16588, 14076, 14466, 16376, 16599, 16797, 19963, 15552, 14792, 18580, 20315, 18894, 17866, 19514, 27207, 22837, 23154, 30562, 25906, 28546, 34466, 31961, 30350, 29350, 31056, 30278, 31189, 33284, 35522, 33799, 37951, 34098, 40977, 36080, 37260, 40732, 38302, 41709, 38633, 35773, 37898, 38898, 39353, 35822, 39274, 38898, 39813, 42410, 37944, 40202, 41097, 41345, 41567, 47917, 45234, 44775, 43302, 47904, 50431, 49423, 46707, 51562, 55059, 47183, 47010, 50586, 50106, 54572, 55431, 55930, 58998, 58465, 63872, 64750, 60183, 59943, 59036, 66420, 68359, 71434, 66401, 66289, 68588, 78527,],
    (2, 10): [4132, 8227, 7842, 6255, 10164, 12399, 13055, 15560, 15640, 16876, 15317, 14606, 14540, 17965, 16251, 14587, 14859, 16730, 20688, 19571, 15834, 19622, 19229, 21239, 17797, 23336, 23943, 18885, 20867, 21585, 19839, 24864, 25085, 21100, 25224, 24654, 28593, 27007, 25004, 28826, 26871, 27464, 31340, 31082, 32808, 30508, 32379, 31234, 37997, 33658, 36552, 37518, 39089, 37155, 40936, 37593, 36561, 38781, 37192, 40997, 37472, 44541, 39830, 42497, 46171, 41695, 45293, 46187, 43500, 46200, 46449, 48155, 44713, 46138, 45412, 48256, 47240, 50091, 55243, 50370, 53093, 51406, 49948, 56366, 53280, 52719, 50491, 58250, 55940, 53043, 51996, 58816, 56430, 58699, 60128, 61673, 58638, 62489, 67068, 68091,],
    (3, 10): [3120, 3023, 3128, 5555, 6790, 7779, 6792, 6792, 11767, 14367, 14824, 14079, 18848, 13286, 14580, 17252, 15458, 18992, 17587, 27156, 25436, 22631, 22315, 23847, 28344, 23075, 26745, 28136, 27622, 24766, 29919, 25360, 25089, 23513, 28307, 32583, 29727, 32627, 26878, 31352, 26074, 33646, 31922, 34125, 36221, 33629, 30874, 35903, 37007, 36694, 39171, 38732, 37961, 35728, 35409, 35766, 40909, 37425, 40944, 43712, 40132, 38909, 43596, 45767, 41756, 41573, 43941, 46023, 50073, 43242, 49908, 49350, 52718, 49216, 51383, 53513, 51226, 54059, 54370, 52153, 54628, 56039, 53924, 55276, 58845, 57204, 56513, 60437, 58019, 60441, 58696, 58235, 60909, 63311, 64363, 64900, 66443, 67915, 68274, 75125,],
    (4, 10): [7831, 9106, 10546, 9014, 7412, 10364, 9526, 12253, 7436, 14534, 12049, 14937, 12773, 17030, 15892, 19586, 17970, 15374, 15486, 21574, 15302, 17554, 18964, 16056, 23999, 15914, 21544, 18381, 19549, 26032, 22507, 27233, 25513, 29500, 24007, 27311, 33462, 28309, 31149, 28847, 30752, 35479, 26839, 29319, 29148, 32930, 32439, 33300, 31636, 38585, 44755, 40091, 40109, 40492, 45580, 39764, 40908, 39348, 35309, 38003, 40054, 40724, 49563, 44638, 37936, 50600, 45226, 41910, 38410, 39660, 56857, 41867, 43883, 49366, 56983, 57436, 59210, 47984, 54146, 57930, 54734, 58882, 53138, 58872, 53116, 55199, 69381, 64037, 66292, 63353, 65330, 70233, 73661, 68628, 71218, 76908, 74982, 73715, 77151, 80979,],
}


sums = {k: sum(v) for k,v in data.items()}



_ = 0
if _ == 0:
    for (nq,ns),value in data.items():
        if ns == 10:
            plt.plot(value, label=f"$N_q$ = {nq}, $N_s$ = {ns}")
    plt.legend()

elif _ == 1:
    map_2d = []
    for ns in range(1, 11):
        map_2d.append([])
        for nq in range(1, 11):
            k = (nq, ns)
            if k in sums:
                map_2d[-1].append(sums[k])
            else:
                map_2d[-1].append(0)

    plt.xlabel("Number of queues $N_q$")
    plt.ylabel("Number of services $N_s$")

    plt.imshow(map_2d,cmap="hot", extent=[1,10,1,10])

elif _ == 2:
    plt.scatter([1, 2, 3, 4], sums.values())

plt.show()
